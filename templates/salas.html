<!DOCTYPE html>
<html lang="pt-BR">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Salas</title>
        <link rel="stylesheet"
                href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
        <style>
                body {
                        margin: 0;
                }

                h1 {
                        font-size: 48px;
                        color: #FF4444;
                }

                .title {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        flex-direction: column;
                        color: #fff;
                }

                .search-input {
                        padding: 10px;
                        width: 80%;
                        max-width: 400px;
                        font-size: 18px;
                        border: 2px solid #4086F3;
                        border-radius: 10px;
                        outline: none;
                        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                }

                .botao {
                        width: 346px;
                        height: 108px;
                        border-radius: 15px;
                        font-size: 36px;
                        font-weight: 600;
                        padding: 0 20px;
                        background-color: #4086F3;
                        color: #fff;
                        cursor: pointer;
                        border: none;

                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        transition: background-color 0.3s ease, transform 0.3s ease;
                }

                .botao:hover {
                        background-color: #fff;
                        color: #4086F3;
                        transform: translateY(-5px);
                        border: #4086F3 1px solid;
                }

                .icon {
                        font-size: 36px;
                }

                #botoesDestino {
                        display: flex;
                        gap: 15px;
                        flex-wrap: wrap;
                        justify-content: space-between;
                }

                #container_predios {
                        margin-bottom: 100px;
                }

                /* Rodapé */
                footer {
                        width: 100%;
                        height: 60px;
                        background-color: transparent;
                }

                #infoButton {
                        position: fixed;
                        bottom: 10px;
                        right: 10px;
                        width: 50px;
                        height: 50px;
                        border-radius: 50%;
                        background-color: #fff;
                        color: #FF4444;
                        font-size: 24px;
                        border: #FF4444 3px solid;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        cursor: pointer;
                        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                        z-index: 1000;
                }

                .footer-text {
                        font-size: 18px;
                }

                .container {
                        padding-bottom: 80px;
                }

                #btnVoltar {
                        position: absolute;
                        top: 20px;
                        left: 10px;
                        background-color: rgba(0, 0, 0, 0.5);
                        color: #fff;
                        padding: 5px 10px;
                        border-radius: 5px;
                        z-index: 1000;
                }

                .title-container {
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        position: relative;

                        color: #fff;
                        background-color: #4086F3;
                }

                #logo {
                        position: absolute;
                        left: 30px;
                }

                .filter-container {
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        gap: 20px;

                        margin-top: 20px;
                }

                #container_predios {
                        display: flex;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;
                        width: 80%;
                        margin: 0 auto;
                        /* Centraliza horizontalmente */
                }
        </style>
</head>

<body>
        <div class="container">
                <div class="title-container">
                        <img id="logo" src="{{ url_for('static', filename='img/logo.svg') }}" alt="logo">
                        <h1 class="title">Selecione a sala</h1>
                </div>

                <div class="filter-container">
                        <input type="text" id="searchInput" class="search-input" placeholder="Digite o nome da sala...">
                        <input id="isPCD" type="checkbox">
                </div>
        </div>

        <div id="container_predios">
                <div id="predio_principal">
                        <h1>Prédio Principal</h1>
                        <div id="botoesDestino">
                                <button onclick="verRota('TI')" class="botao">TI<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Xerox')" class="botao">Xerox<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Capela')" class="botao">Capela<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Pastoral')" class="botao">Pastoral<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Diretoria')" class="botao">Diretoria<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Lab. AutoCad')" class="botao">Lab. AutoCad<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala Prof. 1')" class="botao">Sala Prof. 1<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala Prof. 2')" class="botao">Sala Prof. 2<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('WC/Vest. M')" class="botao">WC/Vest. M<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('WC/Vest. F')" class="botao">WC/Vest. F<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Ref./Cantina')" class="botao">Ref./Cantina<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('WC Familia')" class="botao">WC Familia<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala Prof.')" class="botao">Sala Prof.<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Biblioteca')" class="botao">Biblioteca<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Cant. Leitura')" class="botao">Cant. Leitura<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Coordenação')" class="botao">Coordenação<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Secretaria')" class="botao">Secretaria<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Social')" class="botao">Social<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala Estágio')" class="botao">Sala Estágio<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('WC Cantina')" class="botao">WC Cantina<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala Arquivo')" class="botao">Sala Arquivo<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Entrada Prédio M.B.')" class="botao">Prédio M.B.<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Estacionamento')" class="botao">Estacionamento<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('Sala 201')" class="botao">Sala 201<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('DD104')" class="botao">DD104<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                        </div>
                </div>

                <div class="mario-bonate">
                        <h1>Prédio Mario Bonate</h1>
                        <div id="botoesDestino">
                                <button onclick="verRota('Oficina/Aero Unisal')" class="botao">Oficina/Aero
                                        Unisal<span class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('MB09')" class="botao">MB09<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>
                                <button onclick="verRota('MB04')" class="botao">MB04<span
                                                class="material-symbols-outlined icon">pin_drop</span></button>

                        </div>
                </div>
                <button id="btnVoltar" onclick="window.location.href='/'"><span
                                class="material-symbols-outlined">undo</span></button>

        </div>
        </div>

        <footer>
                <button id="infoButton">?</button>
        </footer>


        <script>
                function verRota(destino) {
                        const isPCD = document.getElementById('isPCD').checked;
                        const formData = new FormData();
                        formData.append('destino', destino);
                        formData.append('pcd', isPCD);
                        fetch('/rota', {
                                method: 'POST',
                                body: formData
                        })
                                .then(response => response.json())
                                .then(data => {
                                        // Armazenar a rota e as arestas no localStorage
                                        localStorage.setItem('rota', JSON.stringify(data.rota));
                                        localStorage.setItem('arestas', JSON.stringify(data.arestas)); // Armazenar arestas
                                        localStorage.setItem('andares', JSON.stringify(data.andares));
                                        localStorage.setItem('destino', destino);
                                        localStorage.setItem('pcd', isPCD);
                                        // Redirecionar para a página de rota
                                        window.location.href = '/rota';

                                });
                }

                document.getElementById('searchInput').addEventListener('input', function () {
                        const searchValue = this.value.toLowerCase();
                        const buttons = document.querySelectorAll('#botoesDestino .botao');

                        buttons.forEach(button => {
                                const buttonText = button.textContent.toLowerCase();
                                if (buttonText.includes(searchValue)) {
                                        button.style.display = 'flex';
                                } else {
                                        button.style.display = 'none';
                                }
                        });
                });
        </script>
</body>

</html>